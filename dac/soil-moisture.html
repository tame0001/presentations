<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Ag IoT 101: Read Soil Moisture</title>

    <link rel="stylesheet" href="../revealjs/dist/reset.css" />
    <link rel="stylesheet" href="../revealjs/dist/reveal.css" />
    <link rel="stylesheet" href="../revealjs/dist/theme/night.css" />

    <!-- Font awesome is required for the chalkboard plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <!-- Custom controls plugin is used to for opening and closing annotation modes. -->
    <script src="https://cdn.jsdelivr.net/npm/reveal.js-plugins@latest/customcontrols/plugin.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/reveal.js-plugins@latest/customcontrols/style.css"
    />
    <!-- Chalkboard plugin -->
    <script src="https://cdn.jsdelivr.net/npm/reveal.js-plugins@latest/chalkboard/plugin.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/reveal.js-plugins@latest/chalkboard/style.css"
    />

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="../revealjs/plugin/highlight/monokai.css" />
    <!-- Ankita's theme overrides-->
    <link rel="stylesheet" href="../asm591-styles.css" />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <div class="footer">
          Purdue Digital Agricultural Club | Tam Bureetes (tbureete@purdue.edu)
        </div>

        <section data-markdown>
          <textarea data-template>
            ### Introduction to IoT in Agricultural
            Reading Soil Moisture
            
            #### Purdue Digital Agricultural Club Workshop
            November 21<sup>st</sup>, 2023
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
            ### Outline for today
            <ul>
              <li>Introduction to microcontroller</li>
              <li>Basic programming</li>
              <li>Program a microcontroller</li>
              <li>Read soil moisture</li>
            </ul>
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
            ### What is microcontroller?
          </textarea>
        </section>

        <section>
          <h4>How computer works?</h4>
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/5/57/Fulladder.gif"
            alt="Full adder animation"
          />
          <p style="font-size: small">
            Reference:
            <a href="https://en.wikipedia.org/wiki/Adder_(electronics)"
              >Wikipedia</a
            >
          </p>
        </section>

        <section>
          <img
            src="https://www.gsnetwork.com/wp-content/uploads/2023/01/full-adder-1-built-on-a-breadboard-using-npn-transistors.jpg"
            alt="Full adder circuit"
          />
          <p style="font-size: small">
            Reference:
            <a href="https://www.gsnetwork.com/full-adder/"
              >https://www.gsnetwork.com</a
            >
          </p>
        </section>

        <section>
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/00/Moore%27s_Law_Transistor_Count_1970-2020.png/1024px-Moore%27s_Law_Transistor_Count_1970-2020.png"
            alt="Moore's Law"
            height="480px"
          />
          <p style="font-size: small">
            Reference:
            <a href="https://en.wikipedia.org/wiki/Moore%27s_law">Wikipedia</a>
          </p>
        </section>

        <section>
          <img
            src="https://www.notebookcheck.net/fileadmin/Notebooks/Apple/apple_a15_bionic_soc.jpg"
            alt="Apple A15"
          />
          <p style="font-size: small">
            Reference:
            <a
              href="https://www.notebookcheck.net/Apple-A15-Bionic-Processor-Benchmarks-and-Specs.562169.0.html"
              >https://www.notebookcheck.net</a
            >
          </p>
        </section>

        <section>
          <img
            src="https://www.espressif.com/sites/default/files/ESP32-S3_0.png"
            alt="ESP32 stack"
            height="480px"
          />
          <p style="font-size: small">
            Reference:
            <a href="https://www.espressif.com/en/news/ESP32_S3"
              >https://www.espressif.com</a
            >
          </p>
        </section>

        <section>
          <img
            src="https://lastminuteengineers.com/wp-content/uploads/iot/ESP32-Pinout.png"
            alt="ESP32 Pinout"
            height="480px"
          />
          <p style="font-size: small">
            Reference:
            <a href="https://lastminuteengineers.com/esp32-pinout-reference/"
              >https://lastminuteengineers.com</a
            >
          </p>
        </section>

        <section>
          <img
            src="https://www.raspberrypi.com/documentation/computers/images/GPIO-Pinout-Diagram-2.png"
            alt="Raspberry Pi Pinout"
            height="480px"
          />
          <p style="font-size: small">
            Reference:
            <a
              href="https://www.raspberrypi.com/documentation/computers/raspberry-pi.html"
              >https://www.raspberrypi.com</a
            >
          </p>
        </section>

        <section>
          <img
            src="https://d29g4g2dyqv443.cloudfront.net/sites/default/files/akamai/embedded/images/jetsonNano/jetson_orin_nano-devkit-front_top-right-trimmed.jpg"
            alt="Raspberry Pi Pinout"
            height="480px"
          />
          <p style="font-size: small">
            Reference:
            <a href="https://developer.nvidia.com/buy-jetson">Nvidia</a>
          </p>
        </section>

        <section data-markdown>
          <textarea data-template>
            ### Microcontroller vs Computer
            <ul>
              <li>Same working principle</li>
              <li>Different usages</li>
            </ul>
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
            ### Basic Programming
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
            ## Two Key Words
            
            **Variable**: store information

            **Operation**: manipulate information

            Let's do it: <a href="https://www.programiz.com/c-programming/online-compiler/">http://www.programiz.com</a>
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
            ```c [1|3|5-6|8|10-11]
            #include <stdio.h>

              int main() {
                  
                  int a = 2; // define a variable
                  int b = 3; // define another variable

                  printf("%d + %d = %d", a, b, a+b);
              
                  return 0;
              }
            ```
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
            ```c [10-12]
            #include <stdio.h>

              int main() {
                  
                  int a = 2; // define a variable
                  int b = 3; // define another variable

                  printf("%d + %d = %d\n", a, b, a+b);

                  if (a+b > 6) { 
                    printf("The sum of a and b is more than 7\n");
                  }
              
                  return 0;
              }
            ```
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
            ```c [10-12]
            #include <stdio.h>

              int main() {
                  
                  int a = 2; // define a variable
                  int b = 3; // define another variable

                  printf("%d + %d = %d\n", a, b, a+b);

                  while (a+b < 6) {
                    a = a+1;
                    printf("Add 1 to the variable a. Now a = %d\n", a);
                  }
              
                  return 0;
              }
            ```
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
            ### Program A Microcontroller

            <a href="https://www.arduino.cc/en/software">Arduino IDE 2 </a> 

            <a href="https://www.arduino.cc/en/software">Arduino IDE legacy</a>

            <a href="https://create.arduino.cc/editor">Arduino Web Editor</a>

            <a href="https://github.com/DAC-Of-Purdue/iot-sensor/tree/main/tutorials/platformIO">Platform IO (VS Code)</a>

          </textarea>
        </section>

        <section>
          <img src="../img/setup_arduino_ide.png" alt="Setup IDE" />
        </section>

        <section data-markdown>
          <textarea data-template>
            ```c++ [1|3-4|5|8-9|10|11-12|13]
            u_int8_t counter = 0; // define a variable

            void setup() {
              // put your setup code here, to run once:
              Serial.begin(9600); // setup serial terminal.
            }

            void loop() {
              // put your main code here, to run repeatedly:
              counter++; // count how many time the loop executes
              Serial.print("Count ");
              Serial.println(counter);
              delay(1000); // delay 1 second
            }
            ```
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
           ### More tutorials are available on [DAC github](https://github.com/DAC-Of-Purdue/iot-sensor/tree/main/tutorials)
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
            ```c++ [1-2|7|12|13-15|17-19|21]
            #define LED 2         // On-board LED (constant)
            u_int8_t led_status;  // a variable

            void setup() {
              // put your setup code here, to run once:
              Serial.begin(9600); // setup serial terminal.
              pinMode(LED, OUTPUT); // Initialize LED
            }

            void loop() {
              // put your main code here, to run repeatedly:
              led_status = digitalRead(LED); // read current led status
              if (led_status == LOW) {
                Serial.println("LED is currently off. Turning it on..");
                digitalWrite(LED, HIGH);
              }
              else {
                Serial.println("LED is currently on. Turning it off..");
                digitalWrite(LED, LOW);
              }
              delay(1000); // delay 1 second
            }
            ```
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
            ### Soil Moisture Sensor
          </textarea>
        </section>

        <section data-markdown>
          <textarea data-template>
            ### Working Principle
            <ul>
              <li>Time Domain Reflectometry  (TDR)</li>
              <li>Capacitive</li>
            </ul>
          </textarea>
        </section>

        <section>
          <p>Capacitive Soil Moisture Working Principle</p>
          <img
            src="https://wemakethings.net/assets/images/2012.09.26-triangular_wave_plot.png"
            alt="Capacitive sensing"
            height="480px"
          />
          <p style="font-size: small">
            Reference:
            <a
              href="https://wemakethings.net/2012/09/26/capacitance_measurement/"
              >https://wemakethings.net</a
            >
          </p>
        </section>

        <section>
          <p>Capacitive Soil Moisture</p>
          <img
            src="https://rbaron.net/img/soil-sensor/capacitive-soil-moisture-sensor.jpeg"
            alt="Capacitive soil moisture sensor"
            height="480px"
          />
          <p style="font-size: small">
            Reference:
            <a
              href="https://rbaron.net/blog/2021/04/05/How-capacitive-soil-moisture-sensors-work.html"
              >https://rbaron.net</a
            >
          </p>
        </section>

        <section>
          <p>Analog Input and Analog-Digital Convertor (ADC)</p>
          <img
            src="https://www.microcontrollerboard.com/images/a2d_2bits.jpg"
            alt="ADC convert"
            height="480px"
          />
          <p style="font-size: small">
            Reference:
            <a
              href="https://www.microcontrollerboard.com/analog-to-digital-converter.html"
              >https://www.microcontrollerboard.com</a
            >
          </p>
        </section>

        <section>
          <img
            src="https://lastminuteengineers.com/wp-content/uploads/iot/ESP32-Pinout.png"
            alt="ESP32 Pinout"
            height="480px"
          />
          <p style="font-size: small">
            Reference:
            <a href="https://lastminuteengineers.com/esp32-pinout-reference/"
              >https://lastminuteengineers.com</a
            >
          </p>
        </section>

        <section data-markdown>
          <textarea data-template>
            ```c++ [2|4|14-16|17-19|21-23]
            #define LED 2          // On-board LED
            #define SOIL_SENSOR 13 // pin for soil sensor

            u_int16_t raw_soil_moisture;  // for 12bit ADC

            void setup() {
              // put your setup code here, to run once:
              Serial.begin(9600); // setup serial terminal.
              pinMode(LED, OUTPUT); // Initialize LED
            }

            void loop() {
              // put your main code here, to run repeatedly:
              raw_soil_moisture = analogRead(SOIL_SENSOR);
              Serial.print("Raw soil moisture value = ");
              Serial.println(raw_soil_moisture);
              if (raw_soil_moisture > 3000) {
                Serial.println("Soil is dry");
                digitalWrite(LED, LOW);
              }
              else {
                Serial.println("Soil is good");
                digitalWrite(LED, HIGH);
              }
              delay(1000); // delay 1 second
            }
            ```
          </textarea>
        </section>

        <section>
          <h3>Questions?</h3>
        </section>

        <section data-markdown>
          <textarea data-template>
            ### Next 
            [Dashboard](https://github.com/DAC-Of-Purdue/iot-dashboard)
            <ul>
              <li>Sending data over the internet</li>
              <li>Record time series data</li>
              <li>Visualization</li>
            </ul>
          </textarea>
        </section>

        <section>
          <h3>License</h3>

          <img src="https://licensebuttons.net/l/by-nc-sa/4.0/88x31.png" />
          <p class="text-small align-left">
            This course is licensed under a Creative Commons
            <a
              href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode"
              >Attribution-NonCommercial-ShareAlike 4.0 International (CC
              BY-NC-SA 4.0)</a
            >
            license. This is a human-readable summary of (and not a substitute
            for) the
            <a
              href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode"
              >license</a
            >. Official translations of this license are available in other
            languages.
          </p>

          <p class="text-small align-left">You are free to:</p>
          <ul class="text-small">
            <li>
              Share — copy and redistribute the material in any medium or format
            </li>
            <li>Adapt — remix, transform, and build upon the material</li>
          </ul>

          <p class="text-small align-left">Under the following terms:</p>
          <ul class="text-small">
            <li>
              Attribution — You must give appropriate credit, provide a link to
              the license, and indicate if changes were made. You may do so in
              any reasonable manner, but not in any way that suggests the
              licensor endorses you or your use.
            </li>
            <li>
              NonCommercial — You may not use the material for commercial
              purposes.
            </li>
            <li>
              ShareAlike — If you remix, transform, or build upon the material,
              you must distribute your contributions under the same license as
              the original.
            </li>
            <li>
              No additional restrictions — You may not apply legal terms or
              technological measures that legally restrict others from doing
              anything the license permits.
            </li>
          </ul>
        </section>
      </div>
    </div>

    <script src="../revealjs/dist/reveal.js"></script>
    <script src="../revealjs/plugin/notes/notes.js"></script>
    <script src="../revealjs/plugin/markdown/markdown.js"></script>
    <script src="../revealjs/plugin/highlight/highlight.js"></script>
    <script src="../revealjs/plugin/zoom/zoom.js"></script>

    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,
        slideNumber: "c/t",
        autoAnimateDuration: 0.5,

        customcontrols: {
          controls: [
            {
              icon: '<i class="fa fa-pen-square"></i>',
              title: "Toggle chalkboard (B)",
              action: "RevealChalkboard.toggleChalkboard();",
            },
            {
              icon: '<i class="fa fa-pen"></i>',
              title: "Toggle notes canvas (C)",
              action: "RevealChalkboard.toggleNotesCanvas();",
            },
          ],
        },

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealNotes,
          RevealChalkboard,
          RevealCustomControls,
          RevealZoom,
        ],
      });
    </script>
  </body>
</html>
